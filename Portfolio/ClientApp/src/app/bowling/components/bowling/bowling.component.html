<div class="mt-8 flex flex-col justify-center px-8">
  <div class="flex justify-around items-center flex-wrap">
    <app-bowling-select-series-category [seriesCategories]="categoryLabels" [initialSeriesCategory]="currentSeriesCategory" [label]="'View chart type...'" (selectionChange)="selectSeriesCategory($event)"></app-bowling-select-series-category>
    <span class="link" (click)="openDialog()">Add / View Scores</span>
  </div>
  <div>
    <app-bowling-chart [category]="currentSeriesCategory" #chart></app-bowling-chart>
  </div>
  <div class="pt-24 self-center">
    <app-bowling-select-user [initialUserId]="currentUserId" [label]="'View stats for bowler...'" (selectionChange)="selectUser($event)"></app-bowling-select-user>
  </div>
  <div class="my-4 flex flex-wrap justify-around">
    <span *ngIf="selectedStartTime && selectedEndTime">Viewing stats from <span class="font-semibold">{{selectedStartTime | date: 'mediumDate'}} to {{selectedEndTime | date: 'mediumDate'}}</span>.</span>
    <span *ngIf="!selectedStartTime || !selectedEndTime">Viewing stats from <span class="uppercase tracking-wide font-semibold">all time</span>.</span>
    <span class="link" (click)="updateStats()">Click to update to selected range</span>
  </div>
  <div class="flex flex-col justify-center mt-4 md:self-center">
    <mat-tab-group dynamicHeight mat-align-tabs="center">
      <mat-tab label="Quick Stats">
        <ng-template matTabContent>
          <app-bowling-stat statCategory="Overall"
                            [userId]="currentUserId"
                            [startTime]="selectedStartTime"
                            [endTime]="selectedEndTime"></app-bowling-stat>
        </ng-template>
      </mat-tab>
      <mat-tab label="Counts">
        <ng-template matTabContent>
          <app-bowling-stat statCategory="Count"
                            [userId]="currentUserId"
                            [startTime]="selectedStartTime"
                            [endTime]="selectedEndTime"></app-bowling-stat>
        </ng-template>
      </mat-tab>
      <mat-tab label="Splits">
        <ng-template matTabContent>
          <app-bowling-stat statCategory="Split"
                            [userId]="currentUserId"
                            [startTime]="selectedStartTime"
                            [endTime]="selectedEndTime"></app-bowling-stat>
        </ng-template>
      </mat-tab>
      <mat-tab label="Records">
        <ng-template matTabContent>
          <app-bowling-stat statCategory="Record"
                            [userId]="currentUserId"
                            [startTime]="selectedStartTime"
                            [endTime]="selectedEndTime"></app-bowling-stat>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
