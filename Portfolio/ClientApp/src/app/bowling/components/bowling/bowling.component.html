<div class="container-vertical responsive-container responsive-container-lg">
  <div class="links container-horizontal">
    <button mat-raised-button color="primary" (click)="openDialog()">Scores</button>
    <button mat-raised-button color="primary">More Details</button>
    <button mat-raised-button color="primary" routerLink="/login">Logout</button>
  </div>
  <div class="chart-wrapper">
    <app-bowling-chart [category]="currentSeriesCategory" #chart></app-bowling-chart>
  </div>
  <div class="stat-action-wrapper">
    <app-bowling-select-user [initialUserId]="currentUserId"
                             [label]="'View stats for bowler...'"
                             (selectionChange)="selectUser($event)"></app-bowling-select-user>
    <button mat-raised-button color="accent" (click)="updateStats()">Update Stats</button>
  </div>
  <h5 *ngIf="selectedStartTime && selectedEndTime">Viewing stats from {{selectedStartTime | date: 'mediumDate'}} to {{selectedEndTime | date: 'mediumDate'}}</h5>
  <h5 *ngIf="!selectedStartTime || !selectedEndTime">Viewing stats from all-time</h5>
  <div class="responsive-container center">
    <mat-tab-group dynamicHeight>
      <mat-tab label="Quick Stats">
        <ng-template matTabContent>
          <app-bowling-stat statCategory="Overall"
                            [userId]="currentUserId"
                            [startTime]="selectedStartTime"
                            [endTime]="selectedEndTime"></app-bowling-stat>
        </ng-template>
      </mat-tab>
      <mat-tab label="Counts">
        <ng-template matTabContent>
          <app-bowling-stat statCategory="Count"
                            [userId]="currentUserId"
                            [startTime]="selectedStartTime"
                            [endTime]="selectedEndTime"></app-bowling-stat>
        </ng-template>
      </mat-tab>
      <mat-tab label="Splits">
        <ng-template matTabContent>
          <app-bowling-stat statCategory="Split"
                            [userId]="currentUserId"
                            [startTime]="selectedStartTime"
                            [endTime]="selectedEndTime"></app-bowling-stat>
        </ng-template>
      </mat-tab>
      <mat-tab label="Records">
        <ng-template matTabContent>
          <app-bowling-stat statCategory="Record"
                            [userId]="currentUserId"
                            [startTime]="selectedStartTime"
                            [endTime]="selectedEndTime"></app-bowling-stat>
        </ng-template>
      </mat-tab>
    </mat-tab-group>
  </div>
</div>
